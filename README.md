# 前言

先说问题：
1. 根据人只能处理10bit/s的这个问题，我想写800字，我得想800秒以上，中文信息密度更大可能要更久，800/60=13.3分钟，但实际生活我一般要生成超过1000字的文档，也就是我全速去构思，也要至少20分钟才能想完。但为了生成超过1000字的文档，往往需要参考借鉴超过3000字的参考文档（通常因为我个人的强迫症和严谨性要参考更多文档），那就是人类极限状态也要至少60分钟才能处理这些信息。Reference：[“一心不能二用”是真的！Neuron（14.7）：人类大脑处理速度仅10比特/秒，面对复杂任务容易卡顿](https://mp.weixin.qq.com/s/uGpnywab4jhF82hKwjSOuw)
2. 我的打字速度算是很快，80~100字每分钟，那我打1000个字，不包括思考最少仅仅需要10分钟。
3. 综合起来，为了写个1000字的文档，大部分时间是浪费在处理参考文档和构思上面，日常情况下，一千字的文档，不包括查找参考文档的时间，我也得花两个小时以上才能写完。我以前总感觉是自己太菜，但现在注意到是人类极限就是这样，我不管是多努力都只有这个速度，那么只能创新才有突破——怎么才能充分利用10bit/s这个处理速度？

解决思路（不包括查找Reference）：
1. 大模型2s能生成800字，虽然存在错误；
2. 大纲的篇幅通常占文档的1/10，但大纲是无需参考文档的。我只需要花2分钟就可以想出大纲（或者花一分钟梳理需求，再花一分钟打字，去找老师或大模型让给个基本思路）；
3. 大纲是分块的，每个参考文档可被参考的部分也是有限的，人工复制粘贴或者使用大模型提取参考文档中与大纲有关的信息，并按照大纲的顺序整理到一起去，因为不需要阅读仔细，处理时间会短很多，参考文献数量越清晰这个整理时间越短，实际上大部分文档的组织都是非常清楚所以人工去做粘贴也根本用不了多久；
4. 将整理好的大纲+参考文本直接发给大模型，自定义一些要求：
请帮我适当缩短文本篇幅，保证可阅读性，并将术语更加易懂化或减少，保证大一新生也能读懂，但不改变原有的结构和严谨性，并且不使用任何比喻、类比的修辞手法，保证文本的严肃性。我希望你能保留主题xxx，因为我这个内容用意是介绍xxx。


那么写代码也是一样，我应该生成大纲，并给出Reference，然后让大模型按照这个要求去生成代码。

本项目的代码生成思路（也算是功能介绍）如下：

按照这个要求去生成代码：
1. 使用python和网页相关的代码，网页应用，UI现代美观，一切信息缓存在本地，缓存时变量名称前缀要加上hust_gen_paper，以便不与其他的本地缓存变量冲突
2. 主题：根据大纲和参考文本，调用大模型接口（大模型接口我已经写了，叫做simple_request）生成文章。
3. 步骤：
1）文本输入框1，可填主题，单行文本；
2）文本输入框2，可填大纲文本，提示用户按行分隔，多行文本，支持全屏编辑；
3）按确定按钮，自动切分成多行，每行下面都新增一个多行文本输入框，支持输入参考文本；支持返回上一步重新编辑文本输入框2，已填写的参考文本不清除，仍然按行自动填入，如果编辑后行数量小于编辑前，参考文本也预留、不清除。
4）选择框，可新增、删除或使用默认要求，每个要求都是多行文本，支持传入主题这个参数。默认要求是：
1. 请帮我适当缩短文本篇幅，保证可阅读性，并将术语更加易懂化或减少，保证大一新生也能读懂，但不改变原有的结构和严谨性，并且不使用任何比喻、类比的修辞手法，保证文本的严肃性。
2. 我希望你能保留{主题}相关的内容，因为我这个内容用意是介绍{主题}。


# 文章生成器 - HUST Paper Generator

![请添加图片描述](https://i-blog.csdnimg.cn/direct/80342bb453c6463484c5e47a82e6acad.gif)


## 功能说明

1. **现代美观的UI**：
   - 使用Streamlit框架构建响应式网页应用
   - 自定义CSS样式使界面更加美观
   - 清晰的步骤导航和状态管理

2. **本地缓存功能**：
   - 所有数据使用`hust_gen_paper`前缀存储在session state中
   - 支持返回上一步时保留已填写的内容
   - 使用哈希值生成唯一的缓存键名

3. **核心功能**：
   - 第一步：输入文章主题和大纲
   - 第二步：为每个大纲要点输入参考文本
   - 第三步：生成并显示文章内容，支持下载

4. **要求管理**：
   - 侧边栏可以添加、删除和编辑生成要求
   - 支持在要求中使用`{主题}`占位符
   - 默认提供两个预设要求

5. **大模型集成**：
   - 使用`simple_request`函数作为大模型接口
   - 自动将主题、大纲和参考文本组合成提示词

## 使用说明

1. 安装依赖：`pip install streamlit`
2. 运行应用：`streamlit run app.py`
3. 按照界面指引逐步操作：
   - 输入主题和大纲
   - 为每个大纲要点添加参考文本
   - 生成并查看结果
4. 可以在侧边栏管理生成要求

注意：如果你自己已经自行整理好了大纲+文本的完整内容，可以直接在第三步中输入，替换自动生成的原始文本，然后点击生成按钮即可。